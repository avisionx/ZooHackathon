{% extends 'botchat/base.html' %}
{% load static %}
{% block title %}Saviours{% endblock %}
{% block body %}
    <nav class="navbar navbar-expand-lg navbar-dark navbar-custom fixed-top">
      <div class="container">
        <a class="navbar-brand" href="#">Saviours</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link" href="#" data-toggle="modal" data-target="#signUpWindow">Sign Up</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#" data-toggle="modal" data-target="#loginWindow">Log In</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <header class="masthead text-center text-white">
      <div class="masthead-content">
        <div class="container">
          <h1 class="masthead-heading mb-0">One Page Wonder</h1>
          <h2 class="masthead-subheading mb-0">Will Rock Your Socks Off</h2>
          <a href="#" class="btn btn-primary btn-xl rounded-pill mt-5" data-toggle="modal" data-target="#loginWindow">Login</a>
      	</div>
      </div>
      <div class="bg-circle-1 bg-circle"></div>
      <div class="bg-circle-2 bg-circle"></div>
      <div class="bg-circle-3 bg-circle"></div>
      <div class="bg-circle-4 bg-circle"></div>
    </header>

    <section>
      <div class="container">
        <div class="row align-items-center">
          <div class="col-lg-6 order-lg-2">
            <div class="p-5">
              <img class="img-fluid rounded-circle" src="{% static 'img/01.jpg' %}" alt="">
            </div>
          </div>
          <div class="col-lg-6 order-lg-1">
            <div class="p-5">
              <h2 class="display-4">For those about to rock...</h2>
              <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quod aliquid, mollitia odio veniam sit iste esse assumenda amet aperiam exercitationem, ea animi blanditiis recusandae! Ratione voluptatum molestiae adipisci, beatae obcaecati.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section>
      <div class="container">
        <div class="row align-items-center">
          <div class="col-lg-6">
            <div class="p-5">
              <img class="img-fluid rounded-circle" src="{% static 'img/02.jpg' %}" alt="">
            </div>
          </div>
          <div class="col-lg-6">
            <div class="p-5">
              <h2 class="display-4">We salute you!</h2>
              <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quod aliquid, mollitia odio veniam sit iste esse assumenda amet aperiam exercitationem, ea animi blanditiis recusandae! Ratione voluptatum molestiae adipisci, beatae obcaecati.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section>
      <div class="container">
        <div class="row align-items-center">
          <div class="col-lg-6 order-lg-2">
            <div class="p-5">
              <img class="img-fluid rounded-circle" src="{% static 'img/03.jpg' %}" alt="">
            </div>
          </div>
          <div class="col-lg-6 order-lg-1">
            <div class="p-5">
              <h2 class="display-4">Let there be rock!</h2>
              <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quod aliquid, mollitia odio veniam sit iste esse assumenda amet aperiam exercitationem, ea animi blanditiis recusandae! Ratione voluptatum molestiae adipisci, beatae obcaecati.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="py-5 bg-black">
      <div class="container">
        <p class="m-0 text-center text-white small">Copyright &copy; saviours.com 2018</p>
      </div>
      <!-- /.container -->
    </footer>

<div class="modal fade" id="loginWindow">
	<div class="modal-dialog">
		<div class="modal-content">
        	<!-- header -->
        	<div class="modal-header align-items-center">
        		<h3 class="modal-title">Login</h3>
          		<button type="button" class="close center-xy" data-dismiss="modal">&times;</button>
        	</div>
        	<!-- body -->
        	<div class="modal-header align-items-center">
          		<form role="form" class="w-100 mb-0">
            		<div class="form-group mt-3">
              			<input id="lusername" type="username" class="form-control my-2" placeholder="Username"/>
              			<input id="lpass" type="password" class="form-control my-2" placeholder="Password" />
              			<div class="alert alert-warning fade show d-none mb-0 mt-4" role="alert" id="logAlert"> 
  							<strong>Holy guacamole!</strong> Incorrect username or password.
						</div>
            		</div>
          		</form>
        	</div>
        	<!-- footer -->
        	<div class="modal-footer">
          		<button class="btn btn-primary btn-block" onclick="logIn(event)">Log In</button>
        	</div>
        </div>
    </div>
</div>

<div class="modal fade" id="signUpWindow">
	<div class="modal-dialog">
		<div class="modal-content">
        	<!-- header -->
        	<div class="modal-header align-items-center">
        		<h3 class="modal-title">SignUp</h3>
          		<button type="button" class="close center-xy" data-dismiss="modal">&times;</button>
        	</div>
        	<!-- body -->
        	<div class="modal-header align-items-center">
          		<form role="form" class="w-100 mb-0">
            		<div class="form-group my-3">
              			<input id="semail" type="email" class="form-control my-2" placeholder="Email"/>
              			<input id="susername" type="username" class="form-control my-2" placeholder="Username"/>
              			<input id="spass" type="password" class="form-control my-2" placeholder="Password"/>
              			<div class="alert alert-warning fade show d-none mb-0 mt-4" role="alert" id="signAlert"> 
  							<strong>Holy guacamole!</strong> Same username or email already exists.
						</div>
            		</div>
          		</form>
        	</div>
        	<!-- footer -->
        	<div class="modal-footer">
          		<button class="btn btn-primary btn-block" onclick="signUp(event)">Sign Up</button>
        	</div>
        </div>
    </div>
</div>

{% endblock %}

{% block javaScripts %}
<script type="text/javascript">
	
	function signUp(event){
		$.ajax({  
	        url: 'home/',  
	        method: 'POST',
	        data: {
	        	'type': "sign",
	        	'email': $("#semail").val(),
	        	'username': $("#susername").val(),
	        	'password': $("#spass").val(),
	        	csrfmiddlewaretoken: '{{ csrf_token }}'
	        },  
	        success: function(data) {  
	        	if(data["data"] == 'success'){
	        		document.location.reload();
	        	}
	        	else{
	        		$("#semail").val("");
	        		$("#susername").val("");
					$("#spass").val("");
					$("#signAlert").removeClass('d-none');
	        	}
	        }  
    	});
	}

	function logIn(event){
		$.ajax({  
	        url: 'home/',  
	        method: 'POST',
	        data: {
	        	'type': "log",
	        	'username': $("#lusername").val(),
	        	'password': $("#lpass").val(),
	        	csrfmiddlewaretoken: '{{ csrf_token }}'
	        },  
	        success: function(data) {  
	        	if(data["data"] == 'success'){
	        		document.location.reload();
	        	}
	        	else{
	        		$("#lusername").val("");
					$("#lpass").val("");
					$("#logAlert").removeClass('d-none');
	        	}
	        }  
    	});
	}
	
</script>
{% endblock %}  